# UE4渲染模块 07 半透与后处理
## 半透
半透渲染的代表就是距离雾,雾气随距离衰减  
UE4有两种类型的距离雾,一种是大气雾,另一种是指数雾,基于像素着色器  

将雾的颜色与深度图进行混合,就能产生距离雾的效果  

对于半透物体的渲染来说,是延迟渲染不擅长的,一般来说有两种解决方案  
一种是延迟到较晚的阶段处理,另一种是仍采用传统前向渲染,然后两者混合  

## 后处理
后处理位于渲染管线的末端,依赖于像素着色器,常见的后处理特效有:  

1. LightBloom 泛光  
2. Depth of Field/Blurring 景深模糊  
3. Lensflares 镜头光晕  
4. Light Shafts 光斑  
5. Vignetee 晕影  
6. ToneMapping/Color Correction 色调映射/颜色校正  
7. Exposure 曝光  
8. Motion Blur 运动模糊  

### Bloom 泛光
泛光很简单,先查询每个像素的亮度,将亮度低于一定阈值的像素渲染成黑色,这样对比度就会变高  

再以某种模式模糊这张图像  

最后叠加某种类似镜片灰尘之类的纹理,就可以得到Bloom的效果了  

### 景深
把深度图和模糊后的图像混在一起,模糊效果就会只出现的远距离的位置上了  
深度图越远越亮,越近越黑  

