# UE4渲染模块 04 反射
UE4使用三种反射系统,各有利弊,一般混合使用  

# 1,反射捕获 Reflection Capture
UE4使用球体反射捕获对象(Sphere Reflection Capture Actor)来指定捕获的位置  

它会在指定位置计算前后左右上下六个方向的反射信息,形成一张静态的立方体图  
这个过程是预计算的,运行时消耗低  
但实际镜头与捕获不同时,会看到不合理的反射图样  

build light时会更新捕获信息  

如果打包游戏或应用,它会将捕获纹理烘焙进游戏  
运行时,会检测附近是否有反射捕获,如果有,就向反射捕获actor查询cubemap  
将立方体图与物体本身贴图进行混合  

天空光照能为整个游戏世界提供低成本的备用反射捕获  
游戏世界中,任何附近没有反射捕获actor的对象都会使用天空光照反射  

# 2,平面捕获 Planar Reflection
实际应用较少,仅局限于小范围平面,实时计算,消耗比反射捕获大  
优势是无论镜头如何移动,反射信息总是正确的  

# 3,屏幕空间反射 SSR
这是UE4唯一默认生效的反射系统,实时计算,位置上总是精确的  
但生成的反射图样比较模糊,不如反射捕获清晰  
性能介于反射捕获与屏幕捕获之间  

它的优点也是缺点在于:只计算屏幕空间的反射,性能可以保障  
由于只采集屏幕空间内的数据,所以只能绘制视口可见几何的反射,如一个柱子只反射了能看见的部分  

